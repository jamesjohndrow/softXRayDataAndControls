myDataDict
myDataDict.keys()
myDataDict['sxri0414run60']
myDataDict['sxri0414run60'].keys()
myDataDict['sxri0414run60']['yMean']
y = myDataDict['sxri0414run60']['yMean']
myDataDict['sxri0414run60'].keys()
x = myDataDict['sxri0414run60']['y']
x = myDataDict['sxri0414run60']['x']
myCov = cov(y,x)
ySlopeRemoved = y - myCov[0,1]*1.0/myCov[1,1]*(x-mean(x))
plot(x,ySlopeRemoved)
show()
x = myDataDict['sxri0414run60'].keys()
x = myDataDict['sxri0414run60']['x']
myDataDict['sxri0414run60'].keys()
y = myDataDict['sxri0414run60']['yMean']
x = -myDataDict['sxri0414run60']['x']
plot(x,ySlopeRemoved,'.')
show()
from scipy.signal import savgol_filter
i = 'sxri0414run60'
yErrorBars = myDataDict[i]['standardDeviation']/myDataDict[i]['counts']**0.5
ySmoothed = errorWeightedSmoothing(ySlopeRemoved,yErrorBars,29,3)
plot(x,ySlopeRemoved,'.')
show()
errorbar(x,ySlopeRemoved,yerr=yErrorBars)
show()
errorbar(x,ySlopeRemoved,yerr=yErrorBars)
plot(x,ySmoothed[0],linewidth=4,c='k',linestyle='-')
show()
errorbar(x,ySlopeRemoved,yerr=yErrorBars,marker='o')
plot(x,ySmoothed[0],linewidth=4,c='k',linestyle='-')
show()
plot(x,ySmoothed[0],linewidth=4,c='k',linestyle='-',linestyle='None')
plot(x,ySmoothed[0],linewidth=4,c='k',linestyle='-')
errorbar(x,ySlopeRemoved,yerr=yErrorBars,marker='o',linestyle='None')
show()
yRebinned = ySlopeRemoved[0::3]
yRebinned = convolve([1,1,1],ySlopeRemoved)/3.0
yRebinned = convolve([1,1,1],ySlopeRemoved)[::3]/3.0
yRebinned.shape
ySlopeRemoved.shape
errorbar(x,yRebinned,yerr=yErrorBars,marker='o',linestyle='None')
errorbar(x[::3],yRebinned,yerr=yErrorBars,marker='o',linestyle='None')
x[::3].shape
errorbar(x[::3],yRebinned[:-1],yerr=yErrorBars,marker='o',linestyle='None')
x.shape
yRebinned.shape
yRebinned[:-1].shape
errorbar(x[::3],yRebinned[:-1],yerr=yErrorBars,marker='o',linestyle='None')
clear
yRebinned = (convolve([1,1,1],yErrorBars**2)[::3]/3.0)**0.5
yRebinned = convolve([1,1,1],ySlopeRemoved)[::3]/3.0
yRebinnedErrorBar = (convolve([1,1,1],yErrorBars**2)[::3]/3.0)**0.5
errorbar(x[::3],yRebinned[:-1],yerr=yRebinnedErrorBar[:-1],marker='o',linestyle='None')
show()
yRebinnedErrorBar = (convolve([1,1,1],yErrorBars**2)[::3]/3.0)**0.5/3.0**0.5
errorbar(x[::3],yRebinned[:-1],yerr=yRebinnedErrorBar[:-1],marker='o',linestyle='None')
show()
plot(x,ySmoothed[0],linewidth=4,c='k',linestyle='-')
errorbar(x[::3],yRebinned[:-1],yerr=yRebinnedErrorBar[:-1],marker='o',linestyle='None')
show()
pwd
toSave = [x[::3,yRebinned[:-1],yRebinnedErrorBar]]
toSave = [x[::3],yRebinned[:-1],yRebinnedErrorBar[:-1]]
savetxt("backgroundSubtractedData.dat",toSave)
myData = loadtxt("backgroundSubtractedData.dat")
myData
myData.shape
histor
